# ============================================
# Merlin Backend Configuration
# Copy this file to .env and fill in your values
# ============================================

# ----- Application -----
APP_NAME=Merlin
DEBUG=True
SECRET_KEY=your-secret-key-here-change-in-production

# ----- Database -----
# SQLite (local development):
DATABASE_URL=sqlite+aiosqlite:///./merlin.db
# PostgreSQL (Docker/production):
# DATABASE_URL=postgresql+asyncpg://merlin:merlin_dev@localhost:5432/merlin

# ----- CORS -----
CORS_ORIGINS_STR=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001

# ----- JWT Auth (legacy) -----
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ----- Encryption (API key storage) -----
# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_MASTER_KEY=

# ============================================
# Auth0 Configuration
# ============================================
# Create an API at: https://manage.auth0.com/dashboard
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_API_AUDIENCE=https://api.merlin.local
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_CLIENT_SECRET=your-auth0-client-secret

# ============================================
# AI Provider Keys (system defaults)
# ============================================
# Used as fallback when user/org doesn't have their own keys

DEFAULT_ANTHROPIC_API_KEY=
DEFAULT_OPENAI_API_KEY=
DEFAULT_HUGGINGFACE_API_KEY=

# Legacy direct keys (optional)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=

# ============================================
# Pinecone (Vector Search)
# ============================================
# Create index at: https://www.pinecone.io/
DEFAULT_PINECONE_API_KEY=
DEFAULT_PINECONE_ENVIRONMENT=
DEFAULT_PINECONE_INDEX_NAME=merlin-canvas

# ============================================
# Zoom Integration
# ============================================
# Create app at: https://marketplace.zoom.us/develop/create
# App type: OAuth
# Required scopes: cloud_recording:read, meeting:read, user:read

ZOOM_CLIENT_ID=
ZOOM_CLIENT_SECRET=
ZOOM_REDIRECT_URI=http://localhost:8000/api/v1/integrations/zoom/callback
ZOOM_SCOPES=cloud_recording:read:list_user_recordings cloud_recording:read:recording_token meeting:read:list_meetings meeting:read:meeting user:read:user
ZOOM_WEBHOOK_SECRET_TOKEN=

# ============================================
# Jira Integration (Atlassian)
# ============================================
# Create app at: https://developer.atlassian.com/console/myapps/
# Required permissions: read:jira-work, read:jira-user, write:jira-work

JIRA_CLIENT_ID=
JIRA_CLIENT_SECRET=
JIRA_REDIRECT_URI=http://localhost:8000/api/v1/integrations/jira/callback
JIRA_SCOPES=read:jira-work read:jira-user write:jira-work offline_access
JIRA_WEBHOOK_SECRET=

# ============================================
# Confluence Integration (Atlassian)
# ============================================
# Same Atlassian app as Jira, add Confluence permissions
# Required permissions: read:confluence-content.all, write:confluence-content

CONFLUENCE_CLIENT_ID=
CONFLUENCE_CLIENT_SECRET=
CONFLUENCE_REDIRECT_URI=http://localhost:8000/api/v1/integrations/confluence/callback
CONFLUENCE_SCOPES=read:confluence-content.all write:confluence-content read:confluence-space.summary offline_access

# ============================================
# Slack Integration
# ============================================
# Create app at: https://api.slack.com/apps
# Enable OAuth & Permissions, add Bot Token Scopes

SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
SLACK_SIGNING_SECRET=
SLACK_REDIRECT_URI=http://localhost:8000/api/v1/integrations/slack/callback
SLACK_SCOPES=channels:read,channels:history,chat:write,users:read,team:read,files:read

# ============================================
# Email (for invitations)
# ============================================
# Use services like SendGrid, Mailgun, or your SMTP server

SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
FROM_EMAIL=noreply@yourdomain.com
